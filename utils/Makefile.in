# Network UPS Tools: utils

CC	= @CC@
CFLAGS	= -I../include @CFLAGS@

PROGS = upsconfig migrateconfig

UPSCONFIGOBJ = upsconfig.o ../lib/libupsconfig.a
MIGRATETOOLOBJ = migrateconfig.o ../lib/libupsconfig.a ../common/parseconf.o
LIBOBJ	= @LIBOBJ@

all: $(PROGS)

upsconfig: $(UPSCONFIGOBJ) $(LIBOBJ)
	$(CC) $(CFLAGS) -o upsconfig $(UPSCONFIGOBJ) $(LIBOBJ)
	
migrateconfig : $(MIGRATETOOLOBJ) $(LIBOBJ)
	$(CC) $(CFLAGS) -o migrateconfig $(MIGRATETOOLOBJ) $(LIBOBJ)

migrateconfig.o : migrateconfig.c
	$(CC) $(CFLAGS) -c migrateconfig.c
	
clean:
	rm -f *~ *.o

distclean: clean

install: all
